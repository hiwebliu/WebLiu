<!DOCTYPE html>
<html id="webliu" lang="en">
<head>
	<meta charset="UTF-8">
	<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=1.0, maximum-scale=1.0, user-scalable=no"/>
	<meta name="applicable-device" content="pc,mobile"/>
	<title>首页</title>
	<link rel="stylesheet" href="css/reset.css">
	<link rel="stylesheet" href="css/font-awesome.min.css">
	<link rel="stylesheet" href="css/bootstrap.min.css">
	<link rel="stylesheet" href="css/animate.min.css" />
	<link rel="stylesheet" href="css/webliu.css">
	<style>
		::-webkit-scrollbar{
			
		}
	</style>
</head>
<body>
	<!-- header -->
	<div class="header">
		<div class="container">
			<section class="logo">
			<a href="#" title="logo标题"></a>
			</section>
			<section class="search_show">
				<a href="javascript:;" class="">
					<i class="fa fa-search" data-toggle="tooltip" title="搜索"></i>
				</a>
			</section>
			<section class="site_nav">
				<ul>
					<li class="current_menu_item"><a href="#">首页</a></li>
					<li><a href="#"><i class="fa fa-wordpress"></i>WordPress相关</a></li>
					<li><a href="#"><i class="fa fa-html5"></i>前端笔记</a></li>
					<li class="menu_item_has_children"><a href="#"><i class="fa fa-gitlab"></i>主题制作</a>
						<ul class="sub_menu">
							<li><a href="#">博客</a></li>
							<li><a href="#">留言板</a></li>
							<li><a href="#">主题推荐</a></li>
							<li><a href="#">友情链接</a></li>
							<li><a href="#">归档页面</a></li>
						</ul>
					</li>
					<li><a href="#">教程</a></li>
					<li><a href="#">关于</a></li>
				</ul>
			</section>
			<section id="mobile_nav" class="mobile_nav">
				<span class="menu_top"></span>
				<span class="menu_bottom"></span>
			</section>
		</div>
	</div>
	
	<div class="breadcrumb">
		<div class="container">
			<a href="#" data-toggle="tooltip" title="前端刘"><i class="fa fa-home"></i>前端刘</a> >
			<a href="#" data-toggle="tooltip" title="wordpress教程">wordpress教程</a> >
		wordpress教程：纯代码压缩wordpress页面html源代码实现加速
		</div>
	</div>
	
	<!-- ******************************************************** -->
	<div class="wrapper">

		<section class="article_titleWrap wow fadeInUp">
			<div class="container">
				<div class="article_title">
					<h1>wordpress教程：纯代码压缩wordpress页面html源代码实现加速</h1>
					<p class="meta">
						<span class="time"><i class="fa fa-clock-o"></i>2016-12-7</span>
						<span class="author"><i class="fa fa-user-circle"></i>作者：前端刘</span>
						<span class="view"><i class="fa fa-eye"></i>浏览：15次</span>
						<span class="post_cat"><a href="#" data-toggle="tooltip" title="wordpress教程">
							<i class="fa fa-folder-open"></i>分类：wordpress教程</a>
						</span>
					</p>
					<p class="article_tags">
						<span class="webliuicon"><i class="fa fa-tags"></i></span>
						<a href="#">wordpress教程</a><a href="#">wordpress加速</a><a href="#">代码压缩</a>
					</p>
					<button class="webliubtn btnblue"><i class="fa fa-money"></i>文章打赏</button>
					<button class="webliubtn blue"><i class="fa fa-pencil"></i>文章留言</button>
				</div>
				<div class="article_Info">
					<h4>Article Information</h4>
					<p><span>作者</span>：前端刘</p>
					<p><span>发布</span>：2016-12-7</p>
					<p><span>浏览</span>：15 次</p>
					<p><span>分类</span>：<a href="#">wordpress教程</a><a href="#">wordpress加速</a></p>
				</div>
			</div>
		</section>
		
		<section class="article_wrapper" style="min-height: 500px;">
			<div class="container">
				<div class="ads_articleTop wow fadeInUp" style="display: none;">
						<img src="images/1200-80.jpg"/>
				</div>
				
				<div class="article_left wow fadeInLeft" data-wow-duration="1s">
					
					<!--文章内容-->
					<section class="article_item article_content">
						<p>本来之前WP主题网就想推荐此功能来着，后来发现与本站<a href="#" data-toggle="tooltip" title="wordpress教程：非插件实现wordpress代码高亮：集成prism.js">《wordpress教程：非插件实现wordpress代码高亮：集成prism.js》</a>功能相冲突，便就此搁浅了。之后才发现，其实把我们的高亮代码部分，不进行压缩功能就是了…于是今天推荐给大家。压缩页面html不仅能实现wordpress加速，还能让查找源码的剽窃者们费些功夫。</p>
						<h3>实现方法</h3>
						<p>编辑当前wordpress主题的<em>functions.php</em>文件，放入以下代码：</p>
<pre>
function wp_compress_html(){
    function wp_compress_html_main ($buffer){
        $initial=strlen($buffer);
        $buffer=explode("", $buffer);
        $count=count ($buffer);
        for ($i = 0; $i <= $count; $i++){
            if (stristr($buffer[$i], ' ')) {
                $buffer[$i]=(str_replace(" ", " ", $buffer[$i]));
            } else {
                $buffer[$i]=(str_replace("\t", " ", $buffer[$i]));
                $buffer[$i]=(str_replace("\n\n", "\n", $buffer[$i]));
                $buffer[$i]=(str_replace("\n", "", $buffer[$i]));
                $buffer[$i]=(str_replace("\r", "", $buffer[$i]));
                while (stristr($buffer[$i], '  ')) {
                    $buffer[$i]=(str_replace("  ", " ", $buffer[$i]));
                }
            }
            $buffer_out.=$buffer[$i];
        }
    return $buffer_out;
}
ob_start("wp_compress_html_main");
}
add_action('get_header', 'wp_compress_html');
</pre>
						<h3>防止压缩</h3>
						标题H2也是较为常用的一个样式，请处理好！
<pre>
	function unCompress($content) {
	    if(preg_match_all('/(crayon-|<\/pre>)/i', $content, $matches)) {
	        $content = ' '.$content;
	        $content.= ' ';
	    }
	    return $content;
	}
	add_filter( "the_content", "unCompress");
</pre>
						<h3>下面是php代码</h3>
						<p>因为我们wordpress主题集成的高亮功能是放在标签<em>&lt;pre&gt;</em>之内的，所以我们把标签内的代码禁止压缩即可。</p>
<pre>
// 将所有分类（categories）加入数组
$options_categories = array();
$options_categories_obj = get_categories();
foreach ($options_categories_obj as $category) {
	$options_categories[$category->cat_ID] = $category->cat_name;
}
</pre>

<div class="article-tag">
文章标签：
	<a href="http://127.0.0.1:2016/wordpress/wordpress%e6%95%99%e7%a8%8b">wordpress教程</a>
</div>
					</section>
					
					<!--相关文章-->
					<section class="article_item article-related"></section>
				</div>
				
				<aside class="sidebar">
					
				</aside>
			</div>
		</section>

	</div><!--wrapper end-->
	

	
	
	
	
	
	
	
	
	
	<div style="width:100%;height: 1500px;"></div>

</body>
<script src="js/jquery-3.3.1.min.js"></script>
<script src="js/bootstrap.min.js"></script>
<script src="js/wow.min.js"></script>
<script src="js/main.js"></script>
</body>
</html>